<!doctype html>
<html>
	<head>
	<meta charset="utf-8">
	<title>product details</title>
    <div style="text-align: right;">
        <button class="button" style="vertical-align: middle" ><span>Dark-Mode </span></button>
        </div>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<!--script type="text/javascript">
	   $(document).ready(function(){
		$( "#header" ).load( "../files/header.html" );   
	   });
	</script-->
	</head>
	<body>
	<div id="header"></div>


		<div class="container-fluid p-5">
			<div class="row mb-3 justify-content-md-center">
				<h2>productname</h2>
					<div class="col-sm-4">
						<img src="assets/images/shoes.jpg" alt="dogimage"  width="600px"  class="float-start d-block rounded" img>
					</div>
				<div class="col-sm-8">
					<h3>Name</h3>
					<h2>Price</h2>
					<h3>Product details</h3>
					<div id="product-details">
					</div>
					<button onclick="addToCart()">add to cart</button>
				</div>
			</div>
		</div>
	<script>
      // Retrieve the product ID from the URL query string
      const urlParams = new URLSearchParams(window.location.search);
      const productId = urlParams.get('id');

      // Get the product details based on the product ID
      const productDetails = getProductDetails(productId);

      // Display the product details on the page
      const productDetailsDiv = document.querySelector('#product-details');
      const productName = document.createElement('h2');
      const productPrice = document.createElement('p');
      const productDescription = document.createElement('p');
      productName.textContent = productDetails.name;
      productPrice.textContent = `Price: $${productDetails.price.toFixed(2)}`;
      productDescription.textContent = productDetails.description;
      productDetailsDiv.appendChild(productName);
      productDetailsDiv.appendChild(productPrice);
      productDetailsDiv.appendChild(productDescription);

      // Function to retrieve product details based on the product ID
      function getProductDetails(id) {
        const products = [
          { id: 1, name: 'Product 1', price: 19.99, description: 'This is product 1.' },
          { id: 2, name: 'Product 2', price: 29.99, description: 'This is product 2.' },
          { id: 3, name: 'Product 3', price: 39.99, description: 'This is product 3.' }
        ];
        return products.find(product => product.id == id);
      }
	 function addToCart() {

		const productDetails = getProductDetails(productId);
		// Get the existing cart items from local storage
		let cartItems = localStorage.getItem('cartItems');
		cartItems = cartItems ? JSON.parse(cartItems) : [];

		// Add the new product to the cart items array
		cartItems.push(productDetails);

		// Store the updated cart items in local storage
		localStorage.setItem('cartItems', JSON.stringify(cartItems));

		// Redirect to the shopping cart page
		window.location.href = 'cart.html';
	  }
	</script>
	</body>

	<link href="assets/css/claystyle.css" rel="stylesheet" id="theme-link">

<footer>
    <div class="container-footer w-container">
        <div class="w-row">
            <div class="footer-column w-clearfix w-col w-col-4"><img src="https://uploads-ssl.webflow.com/5966ea9a9217ca534caf139f/596d33f36607b12cfdaf8ad2_LogoWhite.png" alt="" width="40" class="failory-logo-image">
            <h3 class="footer-failory-name">Plaza</h3>
            <a href="index.html"><span class="footer-link">The Place to Buy<br></span></a>
            </div>
                <div class="footer-column w-col w-col-8">
                <div class="w-row">
                    <div class="w-col w-col-8">
                        <div class="w-row">
                            <div class="w-col w-col-7 w-col-small-6 w-col-tiny-7">
                                <h3 class="footer-titles">Purchase</h3>
                                <p class="footer-links">
                                    <a href="cart.html" target="_blank"><span class="footer-link">Cart<br></span></a>
                                    <a href="product.html"><span class="footer-link">Browse<br></span></a>
                                    <a href="checkoutPage.html"><span class="footer-link">Checkout<br></span></a>
                            </div>
                            <div class="w-col w-col-5 w-col-small-6 w-col-tiny-5">
                                <h3 class="footer-titles">Other</h3>
                                <p class="footer-links">
                                    <a href="login.html"><span class="footer-link">Login<br></span></a>
                                    <a href="register.html"><span class="footer-link">Register<br></span></a>
                                    <a href="about.html"><span class="footer-link">About Us<br></span></a>
                                    <a href="help.html"><span class="footer-link">Help<br></span></a>
                                    <a href="logout.html"><span class="footer-link">Log Out<br></span></a>
                            </div>
                        </div>
                    </div>
                    <div class="column-center-mobile w-col w-col-4">
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer> 
<script>
    // Select the button
    const btn = document.querySelector(".button");
    // Select the stylesheet <link>
    const theme = document.querySelector("#theme-link");

    // Listen for a click on the button
    btn.addEventListener("click", function() {
        // If the current URL contains "ligh-theme.css"
        if (theme.getAttribute("href") == "assets/css/claystyle.css") {
            // ... then switch it to "dark-theme.css"
            theme.href = "assets/css/claystyle-dark.css";
        // Otherwise...
        } 
        else {
            // ... switch it to "light-theme.css"
            theme.href = "assets/css/claystyle.css";
        }
    });
</script>	
</html>